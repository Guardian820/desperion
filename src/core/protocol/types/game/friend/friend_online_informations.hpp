//  Generated by desperion protocol_builder

#ifndef core_friend_online_informations_hpp
#define core_friend_online_informations_hpp

namespace network
{
    struct friend_online_informations : friend_informations
    {
        int32_t player_id;
        std::string player_name;
        int16_t level;
        int8_t alignment_side;
        int8_t breed;
        bool sex;
        basic_guild_informations_ptr guild_info;
        int8_t mood_smiley_id;
        player_status_ptr status;
        
        int16_t id() const override
        { return 92; } 
        
        friend_online_informations(const int8_t & player_state, const int32_t & last_connection, const int32_t & achievement_points, const int32_t & account_id, const std::string & account_name, const int32_t & player_id, const std::string & player_name, const int16_t & level, const int8_t & alignment_side, const int8_t & breed, const bool & sex, const basic_guild_informations_ptr & guild_info, const int8_t & mood_smiley_id, const player_status_ptr & status) : friend_informations { player_state,last_connection,achievement_points,account_id,account_name }
        {
            _data << player_id;
            _data << player_name;
            _data << level;
            _data << alignment_side;
            _data << breed;
            _data << sex;
            _data << guild_info->buffer();
            _data << mood_smiley_id;
            _data << status->id() << status->buffer();
        }
        
        friend_online_informations(byte_buffer & data) : friend_informations { data }
        {
            data >> player_id;
            data >> player_name;
            data >> level;
            data >> alignment_side;
            data >> breed;
            data >> sex;
            guild_info = std::make_unique<basic_guild_informations>(data);
            data >> mood_smiley_id;
            int16_t status_id;
            data >> status_id;
            status.reset(type_manager::get_player_status(status_id, data));
        }
    };
    
    using friend_online_informations_ptr = std::unique_ptr<friend_online_informations>;
}

#endif
