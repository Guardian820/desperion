//  Generated by desperion protocol_builder

#ifndef core_slave_switch_context_message_hpp
#define core_slave_switch_context_message_hpp

namespace protocol
{
    struct slave_switch_context_message : dofus_unit
    {
        int32_t summoner_id;
        int32_t slave_id;
        std::vector<spell_item_ptr> slave_spells;
        character_characteristics_informations_ptr slave_stats;
        
        int16_t id() const override
        { return 6214; } 
        
        slave_switch_context_message(const int32_t & summoner_id, const int32_t & slave_id, const std::vector<spell_item_ptr> & slave_spells, const character_characteristics_informations_ptr & slave_stats)
        {
            _data << summoner_id;
            _data << slave_id;
            _data << static_cast<int16_t>(slave_spells.size());
            for (auto && i : slave_spells)
                _data << i->buffer();
            _data << slave_stats->buffer();
        }
        
        slave_switch_context_message(byte_buffer & data)
        {
            data >> summoner_id;
            data >> slave_id;
            int16_t slave_spells_size;
            data >> slave_spells_size;
            slave_spells.resize(slave_spells_size);
            for (int16_t i = 0; i < slave_spells_size; ++i)
                slave_spells[i] = std::make_unique<spell_item>(data);
            slave_stats = std::make_unique<character_characteristics_informations>(data);
        }
    };
}

#endif
